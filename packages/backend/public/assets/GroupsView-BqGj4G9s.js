import{_ as $}from"./_plugin-vue_export-helper-BJA4NJ9J.js";/* empty css                   *//* empty css                        *//* empty css               *//* empty css                   */import{b as V,f as P}from"./format-B4y3xwuR.js";/* empty css                *//* empty css                  */import{J as U,c as q,H as F,a5 as H,r as J,s as L,Z as R,_ as Q,a3 as Y,$ as Z,Y as j,Q as O,I as W,p as X}from"./element-plus-7iBGeLeB.js";import{u as ee}from"./index-BkPn-YD4.js";import{l as te,r as E,e as se,m as d,K as e,D as t,t as o,F as C,J as ae,$ as oe,u as r,H as l,I as a,aq as le,ar as ne,q as i,C as ce}from"./vue-vendor-CPEpqY2A.js";import"./utils-C5IX4h6x.js";const p=u=>(le("data-v-c565c0e4"),u=u(),ne(),u),re={class:"groups-view"},ie={class:"card-header"},_e=p(()=>o("span",null,"分组管理",-1)),de={class:"groups-grid"},pe={class:"group-header"},ue={class:"group-name"},me={class:"group-stats"},fe={class:"stat"},ve=p(()=>o("span",{class:"stat-label"},"成员数量:",-1)),he={class:"stat-value"},be={class:"stat"},ye=p(()=>o("span",{class:"stat-label"},"创建时间:",-1)),ge={class:"stat-value"},Ee={key:0,class:"group-description"},Ce={key:0,class:"empty-state"},Ae={key:0,class:"group-details"},we=p(()=>o("h4",null,"成员账户",-1)),De=p(()=>o("h4",null,"关联API Keys",-1)),ke=te({__name:"GroupsView",setup(u){const m=ee(),h=E(!1),n=E(null),f=E(null),A=async()=>{await m.fetchGroups()},G=async b=>{n.value=b,h.value=!0;try{f.value=await m.getGroupMembers(b.id)}catch(v){console.error("Error loading group members:",v)}};return se(()=>{A()}),(b,v)=>{var x;const S=J,y=O,T=X,w=U,B=W,N=F,z=H,_=Q,K=R,D=Y,c=j,k=Z,M=q;return i(),d("div",re,[e(w,null,{header:t(()=>[o("div",ie,[_e,e(S,{type:"primary",icon:r(L),onClick:A},{default:t(()=>[l(" 刷新 ")]),_:1},8,["icon"])])]),default:t(()=>[o("div",de,[e(N,{gutter:16},{default:t(()=>[(i(!0),d(ae,null,oe(r(m).groups,s=>(i(),ce(B,{span:8,key:s.id,style:{"margin-bottom":"16px"}},{default:t(()=>[e(w,{class:"group-card",onClick:g=>G(s)},{default:t(()=>[o("div",pe,[o("h3",ue,a(s.name),1),e(y,{type:"primary",size:"small"},{default:t(()=>[l(a(s.platform),1)]),_:2},1024)]),o("div",me,[o("div",fe,[ve,o("span",he,a(s.memberCount),1)]),o("div",be,[ye,o("span",ge,a(r(V)(s.createdAt)),1)])]),s.description?(i(),d("div",Ee,[e(T,{type:"info",size:"small"},{default:t(()=>[l(a(s.description),1)]),_:2},1024)])):C("",!0)]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1})]),r(m).groups.length===0?(i(),d("div",Ce,[e(z,{description:"暂无分组数据"})])):C("",!0)]),_:1}),e(M,{modelValue:h.value,"onUpdate:modelValue":v[0]||(v[0]=s=>h.value=s),title:`分组详情: ${(x=n.value)==null?void 0:x.name}`,width:"800px"},{default:t(()=>[n.value&&f.value?(i(),d("div",Ae,[e(K,{title:"分组信息",column:2,border:""},{default:t(()=>[e(_,{label:"分组名称"},{default:t(()=>[l(a(n.value.name),1)]),_:1}),e(_,{label:"平台"},{default:t(()=>[l(a(n.value.platform),1)]),_:1}),e(_,{label:"成员数量"},{default:t(()=>[l(a(n.value.memberCount),1)]),_:1}),e(_,{label:"创建时间"},{default:t(()=>[l(a(new Date(n.value.createdAt).toLocaleString()),1)]),_:1}),e(_,{label:"描述",span:2},{default:t(()=>[l(a(n.value.description||"无描述"),1)]),_:1})]),_:1}),e(D),we,e(k,{data:f.value.accounts,stripe:""},{default:t(()=>[e(c,{prop:"accountName",label:"账户名称"}),e(c,{prop:"platform",label:"平台"}),e(c,{prop:"isActive",label:"状态"},{default:t(({row:s})=>[e(y,{type:s.isActive?"success":"danger",size:"small"},{default:t(()=>[l(a(s.isActive?"活跃":"非活跃"),1)]),_:2},1032,["type"])]),_:1}),e(c,{prop:"lastUsedAt",label:"最后使用时间"},{default:t(({row:s})=>[l(a(r(V)(s.lastUsedAt)),1)]),_:1})]),_:1},8,["data"]),e(D),De,e(k,{data:f.value.apiKeys,stripe:""},{default:t(()=>[e(c,{prop:"name",label:"API Key名称"}),e(c,{prop:"isActive",label:"状态"},{default:t(({row:s})=>[e(y,{type:s.isActive?"success":"danger",size:"small"},{default:t(()=>[l(a(s.isActive?"活跃":"非活跃"),1)]),_:2},1032,["type"])]),_:1}),e(c,{prop:"rpm",label:"RPM"}),e(c,{prop:"usage.today.cost",label:"今日费用"},{default:t(({row:s})=>{var g,I;return[l(a(r(P)(((I=(g=s.usage)==null?void 0:g.today)==null?void 0:I.cost)||0)),1)]}),_:1})]),_:1},8,["data"])])):C("",!0)]),_:1},8,["modelValue","title"])])}}}),Pe=$(ke,[["__scopeId","data-v-c565c0e4"]]);export{Pe as default};
