import{d as N,a as M,r as C,o as U,g as l,h as i,i as e,w as t,j as _,s as a,k as d,C as K,U as P,V as L,B as g,x as u,v as o,z as T,E as $,F as j}from"./index.e61654b0.js";import{b as w,f as R}from"./format.8ff8c51b.js";import{_ as q}from"./_plugin-vue_export-helper.cdc0426e.js";const p=m=>($("data-v-796606a1"),m=m(),j(),m),H={class:"groups-view"},J={class:"card-header"},O=p(()=>a("span",null,"\u5206\u7EC4\u7BA1\u7406",-1)),Q=u(" \u5237\u65B0 "),W={class:"groups-grid"},X={class:"group-header"},Y={class:"group-name"},Z={class:"group-stats"},ee={class:"stat"},te=p(()=>a("span",{class:"stat-label"},"\u6210\u5458\u6570\u91CF:",-1)),se={class:"stat-value"},ae={class:"stat"},oe=p(()=>a("span",{class:"stat-label"},"\u521B\u5EFA\u65F6\u95F4:",-1)),le={class:"stat-value"},ue={key:0,class:"group-description"},ne={class:"el-text",type:"info",size:"small"},ce={key:0,class:"empty-state"},_e={key:0,class:"group-details"},de=p(()=>a("h4",null,"\u6210\u5458\u8D26\u6237",-1)),re=p(()=>a("h4",null,"\u5173\u8054API Keys",-1)),ie=N({setup(m){const v=M(),b=C(!1),n=C(null),f=C(null),E=async()=>{await v.fetchGroups()},k=async y=>{n.value=y,b.value=!0;try{f.value=await v.getGroupMembers(y.id)}catch(h){console.error("Error loading group members:",h)}};return U(()=>{E()}),(y,h)=>{const x=l("el-button"),F=l("el-tag"),D=l("el-card"),V=l("el-col"),G=l("el-row"),S=l("el-empty"),r=l("el-descriptions-item"),I=l("el-descriptions"),A=l("el-divider"),c=l("el-table-column"),B=l("el-table"),z=l("el-dialog");return _(),i("div",H,[e(D,null,{header:t(()=>[a("div",J,[O,e(x,{type:"primary",icon:d(K),onClick:E},{default:t(()=>[Q]),_:1},8,["icon"])])]),default:t(()=>[a("div",W,[e(G,{gutter:16},{default:t(()=>[(_(!0),i(P,null,L(d(v).groups,s=>(_(),T(V,{span:8,key:s.id,style:{"margin-bottom":"16px"}},{default:t(()=>[e(D,{class:"group-card",onClick:pe=>k(s)},{default:t(()=>[a("div",X,[a("h3",Y,o(s.name),1),e(F,{type:"primary",size:"small"},{default:t(()=>[u(o(s.platform),1)]),_:2},1024)]),a("div",Z,[a("div",ee,[te,a("span",se,o(s.memberCount),1)]),a("div",ae,[oe,a("span",le,o(d(w)(s.createdAt)),1)])]),s.description?(_(),i("div",ue,[a("span",ne,o(s.description),1)])):g("",!0)]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1})]),d(v).groups.length===0?(_(),i("div",ce,[e(S,{description:"\u6682\u65E0\u5206\u7EC4\u6570\u636E"})])):g("",!0)]),_:1}),e(z,{modelValue:b.value,"onUpdate:modelValue":h[0]||(h[0]=s=>b.value=s),title:`\u5206\u7EC4\u8BE6\u60C5: ${n.value?.name}`,width:"800px"},{default:t(()=>[n.value&&f.value?(_(),i("div",_e,[e(I,{title:"\u5206\u7EC4\u4FE1\u606F",column:2,border:""},{default:t(()=>[e(r,{label:"\u5206\u7EC4\u540D\u79F0"},{default:t(()=>[u(o(n.value.name),1)]),_:1}),e(r,{label:"\u5E73\u53F0"},{default:t(()=>[u(o(n.value.platform),1)]),_:1}),e(r,{label:"\u6210\u5458\u6570\u91CF"},{default:t(()=>[u(o(n.value.memberCount),1)]),_:1}),e(r,{label:"\u521B\u5EFA\u65F6\u95F4"},{default:t(()=>[u(o(new Date(n.value.createdAt).toLocaleString()),1)]),_:1}),e(r,{label:"\u63CF\u8FF0",span:2},{default:t(()=>[u(o(n.value.description||"\u65E0\u63CF\u8FF0"),1)]),_:1})]),_:1}),e(A),de,e(B,{data:f.value.accounts,stripe:""},{default:t(()=>[e(c,{prop:"accountName",label:"\u8D26\u6237\u540D\u79F0"}),e(c,{prop:"platform",label:"\u5E73\u53F0"}),e(c,{prop:"isActive",label:"\u72B6\u6001"},{default:t(({row:s})=>[e(F,{type:s.isActive?"success":"danger",size:"small"},{default:t(()=>[u(o(s.isActive?"\u6D3B\u8DC3":"\u975E\u6D3B\u8DC3"),1)]),_:2},1032,["type"])]),_:1}),e(c,{prop:"lastUsedAt",label:"\u6700\u540E\u4F7F\u7528\u65F6\u95F4"},{default:t(({row:s})=>[u(o(d(w)(s.lastUsedAt)),1)]),_:1})]),_:1},8,["data"]),e(A),re,e(B,{data:f.value.apiKeys,stripe:""},{default:t(()=>[e(c,{prop:"name",label:"API Key\u540D\u79F0"}),e(c,{prop:"isActive",label:"\u72B6\u6001"},{default:t(({row:s})=>[e(F,{type:s.isActive?"success":"danger",size:"small"},{default:t(()=>[u(o(s.isActive?"\u6D3B\u8DC3":"\u975E\u6D3B\u8DC3"),1)]),_:2},1032,["type"])]),_:1}),e(c,{prop:"rpm",label:"RPM"}),e(c,{prop:"usage.today.cost",label:"\u4ECA\u65E5\u8D39\u7528"},{default:t(({row:s})=>[u(o(d(R)(s.usage?.today?.cost||0)),1)]),_:1})]),_:1},8,["data"])])):g("",!0)]),_:1},8,["modelValue","title"])])}}});const he=q(ie,[["__scopeId","data-v-796606a1"]]);export{he as default};
