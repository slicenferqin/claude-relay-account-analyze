import{_ as P}from"./_plugin-vue_export-helper-vHbaxTkL.js";/* empty css                   *//* empty css                        *//* empty css               *//* empty css                   */import{b as I,f as K}from"./format-BAX8h6T0.js";/* empty css                *//* empty css                  */import{_ as E,aB as R,a6 as U,az as F,u as r,aY as L,am as $,an as q,aR as Q,aS as W,ah as o,aW as Y,aT as j,aQ as H,aI as J,aA as O}from"./element-plus-BlTo_VXI.js";import{u as X}from"./index-CL1UbGLD.js";import{q as Z,o as ee,b as d,D as e,v as t,d as s,z as A,F as te,P as ae,B as l,a5 as se,a6 as oe,f as i,t as le}from"./vue-vendor-BkJYhFEr.js";import"./utils-2ne8F3OK.js";const p=u=>(se("data-v-796606a1"),u=u(),oe(),u),ne={class:"groups-view"},ce={class:"card-header"},re=p(()=>s("span",null,"分组管理",-1)),ie=l(" 刷新 "),_e={class:"groups-grid"},de={class:"group-header"},pe={class:"group-name"},ue={class:"group-stats"},me={class:"stat"},fe=p(()=>s("span",{class:"stat-label"},"成员数量:",-1)),ve={class:"stat-value"},he={class:"stat"},be=p(()=>s("span",{class:"stat-label"},"创建时间:",-1)),ye={class:"stat-value"},ge={key:0,class:"group-description"},Ee={class:"el-text",type:"info",size:"small"},Ae={key:0,class:"empty-state"},Ce={key:0,class:"group-details"},we=p(()=>s("h4",null,"成员账户",-1)),De=p(()=>s("h4",null,"关联API Keys",-1)),ke=Z({__name:"GroupsView",setup(u){const m=X(),h=E(!1),n=E(null),f=E(null),C=async()=>{await m.fetchGroups()},S=async b=>{n.value=b,h.value=!0;try{f.value=await m.getGroupMembers(b.id)}catch(v){console.error("Error loading group members:",v)}};return ee(()=>{C()}),(b,v)=>{var V;const B=$,y=J,w=R,G=O,z=F,T=L,_=W,N=Q,D=Y,c=H,k=j,M=U;return i(),d("div",ne,[e(w,null,{header:t(()=>[s("div",ce,[re,e(B,{type:"primary",icon:r(q),onClick:C},{default:t(()=>[ie]),_:1},8,["icon"])])]),default:t(()=>[s("div",_e,[e(z,{gutter:16},{default:t(()=>[(i(!0),d(te,null,ae(r(m).groups,a=>(i(),le(G,{span:8,key:a.id,style:{"margin-bottom":"16px"}},{default:t(()=>[e(w,{class:"group-card",onClick:g=>S(a)},{default:t(()=>[s("div",de,[s("h3",pe,o(a.name),1),e(y,{type:"primary",size:"small"},{default:t(()=>[l(o(a.platform),1)]),_:2},1024)]),s("div",ue,[s("div",me,[fe,s("span",ve,o(a.memberCount),1)]),s("div",he,[be,s("span",ye,o(r(I)(a.createdAt)),1)])]),a.description?(i(),d("div",ge,[s("span",Ee,o(a.description),1)])):A("",!0)]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1})]),r(m).groups.length===0?(i(),d("div",Ae,[e(T,{description:"暂无分组数据"})])):A("",!0)]),_:1}),e(M,{modelValue:h.value,"onUpdate:modelValue":v[0]||(v[0]=a=>h.value=a),title:`分组详情: ${(V=n.value)==null?void 0:V.name}`,width:"800px"},{default:t(()=>[n.value&&f.value?(i(),d("div",Ce,[e(N,{title:"分组信息",column:2,border:""},{default:t(()=>[e(_,{label:"分组名称"},{default:t(()=>[l(o(n.value.name),1)]),_:1}),e(_,{label:"平台"},{default:t(()=>[l(o(n.value.platform),1)]),_:1}),e(_,{label:"成员数量"},{default:t(()=>[l(o(n.value.memberCount),1)]),_:1}),e(_,{label:"创建时间"},{default:t(()=>[l(o(new Date(n.value.createdAt).toLocaleString()),1)]),_:1}),e(_,{label:"描述",span:2},{default:t(()=>[l(o(n.value.description||"无描述"),1)]),_:1})]),_:1}),e(D),we,e(k,{data:f.value.accounts,stripe:""},{default:t(()=>[e(c,{prop:"accountName",label:"账户名称"}),e(c,{prop:"platform",label:"平台"}),e(c,{prop:"isActive",label:"状态"},{default:t(({row:a})=>[e(y,{type:a.isActive?"success":"danger",size:"small"},{default:t(()=>[l(o(a.isActive?"活跃":"非活跃"),1)]),_:2},1032,["type"])]),_:1}),e(c,{prop:"lastUsedAt",label:"最后使用时间"},{default:t(({row:a})=>[l(o(r(I)(a.lastUsedAt)),1)]),_:1})]),_:1},8,["data"]),e(D),De,e(k,{data:f.value.apiKeys,stripe:""},{default:t(()=>[e(c,{prop:"name",label:"API Key名称"}),e(c,{prop:"isActive",label:"状态"},{default:t(({row:a})=>[e(y,{type:a.isActive?"success":"danger",size:"small"},{default:t(()=>[l(o(a.isActive?"活跃":"非活跃"),1)]),_:2},1032,["type"])]),_:1}),e(c,{prop:"rpm",label:"RPM"}),e(c,{prop:"usage.today.cost",label:"今日费用"},{default:t(({row:a})=>{var g,x;return[l(o(r(K)(((x=(g=a.usage)==null?void 0:g.today)==null?void 0:x.cost)||0)),1)]}),_:1})]),_:1},8,["data"])])):A("",!0)]),_:1},8,["modelValue","title"])])}}}),Re=P(ke,[["__scopeId","data-v-796606a1"]]);export{Re as default};
