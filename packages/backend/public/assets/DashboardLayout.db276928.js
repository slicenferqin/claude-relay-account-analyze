import{d as le,u as ue,a as ce,b as de,r as x,c as i,e as re,l as _e,o as ie,f as fe,g as o,h as V,i as e,w as t,j as D,k as n,m as me,n as pe,p as he,q as ve,t as be,s,v as F,x as _,y as ge,z as T,A as M,B as we,C as Ae,D as De,T as Ce,E as Be,F as xe}from"./index.e61654b0.js";import{_ as Fe}from"./_plugin-vue_export-helper.cdc0426e.js";const f=b=>(Be("data-v-762a3e5c"),b=b(),xe(),b),ye={class:"dashboard-layout"},Ee=f(()=>s("div",{class:"logo"},[s("h2",null,"\u8D26\u53F7\u770B\u677F"),s("span",{class:"subtitle"},"Account Dashboard")],-1)),ke=f(()=>s("span",null,"\u603B\u89C8",-1)),Se=f(()=>s("span",null,"API Key\u7BA1\u7406",-1)),Re=f(()=>s("span",null,"\u8D26\u53F7\u7BA1\u7406",-1)),Ie=f(()=>s("span",null,"\u5206\u7EC4\u7BA1\u7406",-1)),Ve=f(()=>s("span",null,"\u6570\u636E\u5206\u6790",-1)),Te={class:"header-left"},Me={class:"page-title"},ze=_("\u770B\u677F"),Ne={class:"header-right"},Ue={class:"connection-status"},Le={key:0,class:"last-refresh"},$e={class:"el-text",size:"small",type:"info"},qe=_("\u5237\u65B0\u95F4\u9694"),Pe=_("\u5BFC\u51FA\u6570\u636E"),je=_("\u5173\u4E8E"),Ke={class:"settings-content"},Ge={class:"dialog-footer"},He=_("\u53D6\u6D88"),Je=_("\u786E\u5B9A"),Oe=le({setup(b){const y=ue(),a=ce(),m=de(),z=c=>{const l=new Date(c),u=new Date().getTime()-l.getTime();return u<6e4?"\u521A\u521A":u<36e5?`${Math.floor(u/6e4)}\u5206\u949F\u524D`:u<864e5?`${Math.floor(u/36e5)}\u5C0F\u65F6\u524D`:l.toLocaleDateString("zh-CN")},p=x(!1),C=x(a.refreshInterval),g=x(null),N=i(()=>y.path),E=i(()=>y.meta.title||"\u770B\u677F"),k=i(()=>a.lastRefresh),U=i(()=>m.isConnected?"connected":"disconnected"),L=i(()=>m.isConnected?re:_e),$=i(()=>m.isConnected?"\u5B9E\u65F6\u8FDE\u63A5\u6B63\u5E38":m.connectionError||"\u8FDE\u63A5\u5DF2\u65AD\u5F00"),S=async()=>{await a.refreshAllData()},q=c=>{c?w():h()},P=c=>{a.setRefreshInterval(c),a.isAutoRefresh&&(h(),w())},w=()=>{h(),g.value=window.setInterval(async()=>{a.loading||await S()},a.refreshInterval)},h=()=>{g.value&&(clearInterval(g.value),g.value=null)},j=c=>{switch(c){case"refresh-interval":p.value=!0;break;case"export":console.log("Export data");break;case"about":console.log("About");break}},K=()=>{a.setRefreshInterval(C.value),p.value=!1,a.isAutoRefresh&&(h(),w())};return ie(()=>{m.subscribeToSystemMetrics(),a.isAutoRefresh&&w()}),fe(()=>{h()}),(c,l)=>{const r=o("el-icon"),u=o("el-menu-item"),G=o("el-menu"),H=o("el-aside"),R=o("el-breadcrumb-item"),J=o("el-breadcrumb"),O=o("el-tooltip"),Q=o("el-switch"),A=o("el-button"),B=o("el-dropdown-item"),W=o("el-dropdown-menu"),X=o("el-dropdown"),Y=o("el-header"),Z=o("router-view"),ee=o("el-main"),I=o("el-container"),v=o("el-option"),te=o("el-select"),oe=o("el-form-item"),ne=o("el-form"),se=o("el-dialog");return D(),V("div",ye,[e(I,null,{default:t(()=>[e(H,{width:"250px",class:"sidebar"},{default:t(()=>[Ee,e(G,{"default-active":n(N),class:"sidebar-menu",router:"","unique-opened":""},{default:t(()=>[e(u,{index:"/dashboard/overview"},{default:t(()=>[e(r,null,{default:t(()=>[e(n(me))]),_:1}),ke]),_:1}),e(u,{index:"/dashboard/apikeys"},{default:t(()=>[e(r,null,{default:t(()=>[e(n(pe))]),_:1}),Se]),_:1}),e(u,{index:"/dashboard/accounts"},{default:t(()=>[e(r,null,{default:t(()=>[e(n(he))]),_:1}),Re]),_:1}),e(u,{index:"/dashboard/groups"},{default:t(()=>[e(r,null,{default:t(()=>[e(n(ve))]),_:1}),Ie]),_:1}),e(u,{index:"/dashboard/analytics"},{default:t(()=>[e(r,null,{default:t(()=>[e(n(be))]),_:1}),Ve]),_:1})]),_:1},8,["default-active"])]),_:1}),e(I,null,{default:t(()=>[e(Y,{class:"header"},{default:t(()=>[s("div",Te,[s("h3",Me,F(n(E)),1),e(J,{separator:"/"},{default:t(()=>[e(R,null,{default:t(()=>[ze]),_:1}),e(R,null,{default:t(()=>[_(F(n(E)),1)]),_:1})]),_:1})]),s("div",Ne,[s("div",Ue,[e(O,{content:n($),placement:"bottom"},{default:t(()=>[e(r,{class:ge(["status-icon",n(U)]),size:16},{default:t(()=>[(D(),T(M(n(L))))]),_:1},8,["class"])]),_:1},8,["content"])]),n(k)?(D(),V("div",Le,[s("span",$e," \u6700\u540E\u5237\u65B0: "+F(z(n(k))),1)])):we("",!0),e(Q,{modelValue:n(a).isAutoRefresh,"onUpdate:modelValue":l[0]||(l[0]=d=>n(a).isAutoRefresh=d),"inline-prompt":"","active-text":"\u81EA\u52A8","inactive-text":"\u624B\u52A8",onChange:q},null,8,["modelValue"]),e(A,{circle:"",icon:n(Ae),loading:n(a).loading,onClick:S,title:"\u5237\u65B0\u6570\u636E"},null,8,["icon","loading"]),e(X,{onCommand:j},{dropdown:t(()=>[e(W,null,{default:t(()=>[e(B,{command:"refresh-interval"},{default:t(()=>[qe]),_:1}),e(B,{command:"export"},{default:t(()=>[Pe]),_:1}),e(B,{command:"about"},{default:t(()=>[je]),_:1})]),_:1})]),default:t(()=>[e(A,{circle:"",icon:n(De)},null,8,["icon"])]),_:1})])]),_:1}),e(ee,{class:"main-content"},{default:t(()=>[e(Z,null,{default:t(({Component:d,route:ae})=>[e(Ce,{name:"fade",mode:"out-in"},{default:t(()=>[(D(),T(M(d),{key:ae.path}))]),_:2},1024)]),_:1})]),_:1})]),_:1})]),_:1}),e(se,{modelValue:p.value,"onUpdate:modelValue":l[3]||(l[3]=d=>p.value=d),title:"\u8BBE\u7F6E",width:"500px"},{footer:t(()=>[s("span",Ge,[e(A,{onClick:l[2]||(l[2]=d=>p.value=!1)},{default:t(()=>[He]),_:1}),e(A,{type:"primary",onClick:K},{default:t(()=>[Je]),_:1})])]),default:t(()=>[s("div",Ke,[e(ne,{"label-width":"120px"},{default:t(()=>[e(oe,{label:"\u5237\u65B0\u95F4\u9694"},{default:t(()=>[e(te,{modelValue:C.value,"onUpdate:modelValue":l[1]||(l[1]=d=>C.value=d),placeholder:"\u9009\u62E9\u5237\u65B0\u95F4\u9694",onChange:P},{default:t(()=>[e(v,{label:"5\u79D2",value:5e3}),e(v,{label:"10\u79D2",value:1e4}),e(v,{label:"30\u79D2",value:3e4}),e(v,{label:"1\u5206\u949F",value:6e4}),e(v,{label:"5\u5206\u949F",value:3e5})]),_:1},8,["modelValue"])]),_:1})]),_:1})])]),_:1},8,["modelValue"])])}}});const Xe=Fe(Oe,[["__scopeId","data-v-762a3e5c"]]);export{Xe as default};
