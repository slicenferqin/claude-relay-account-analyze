import{_ as De}from"./_plugin-vue_export-helper-5ba0992b.js";import{v as Re}from"./el-loading-66fa56a8.js";import{q as de,x as qe,P as O,y as be,z as je,A as Fe,v as Oe,p as Ge}from"./el-tooltip-38b3518f.js";import{E as We,a as Ye,b as He,c as Je}from"./el-table-column-8942dda1.js";import{E as ke,a as ze,b as xe}from"./el-select-73344d89.js";import{d as Qe,E as Xe}from"./el-tag-d488a0d0.js";import{E as Ze}from"./el-progress-99473f2c.js";import{E as et,f as oe,a as te,c as tt,b as at}from"./format-a990acf3.js";import{E as nt}from"./el-card-29a08377.js";/* empty css                */import{E as st}from"./el-button-a1817c54.js";import{e as j,f as re,g as T,H as $,j as f,k as x,A as y,x as U,y as s,z as we,m as t,E as ge,_ as X,t as lt,q as Q,am as Ae,a1 as fe,u as G,h as I,N as pe,Q as a,a0 as ue,aS as ce,n as L,w as C,an as Ee,$ as W,aT as ot,aU as he,aV as it,as as rt,aW as ut,ah as ct,s as dt,p as pt,ai as q,B as Ne,l as Ie,a2 as ae,aq as ie,aX as $e,a3 as gt,ad as N,ax as ft,ay as mt,o as vt,aB as _t,aY as bt,aH as ht,aZ as yt,aD as Ct,aQ as Pt,aR as St,a_ as kt,aj as zt,au as ye,aJ as xt,aK as wt}from"./index-b79085ca.js";const Te=Symbol("elPaginationKey"),At=j({disabled:Boolean,currentPage:{type:Number,default:1},prevText:{type:String},prevIcon:{type:re}}),Et={click:e=>e instanceof MouseEvent},Nt=["disabled","aria-disabled"],It={key:0},$t=T({name:"ElPaginationPrev"}),Tt=T({...$t,props:At,emits:Et,setup(e){const c=e,o=$(()=>c.disabled||c.currentPage<=1);return(l,g)=>(f(),x("button",{type:"button",class:"btn-prev",disabled:t(o),"aria-disabled":t(o),onClick:g[0]||(g[0]=d=>l.$emit("click",d))},[l.prevText?(f(),x("span",It,y(l.prevText),1)):(f(),U(t(ge),{key:1},{default:s(()=>[(f(),U(we(l.prevIcon)))]),_:1}))],8,Nt))}});var Bt=X(Tt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/prev.vue"]]);const Ut=j({disabled:Boolean,currentPage:{type:Number,default:1},pageCount:{type:Number,default:50},nextText:{type:String},nextIcon:{type:re}}),Lt=["disabled","aria-disabled"],Mt={key:0},Kt=T({name:"ElPaginationNext"}),Vt=T({...Kt,props:Ut,emits:["click"],setup(e){const c=e,o=$(()=>c.disabled||c.currentPage===c.pageCount||c.pageCount===0);return(l,g)=>(f(),x("button",{type:"button",class:"btn-next",disabled:t(o),"aria-disabled":t(o),onClick:g[0]||(g[0]=d=>l.$emit("click",d))},[l.nextText?(f(),x("span",Mt,y(l.nextText),1)):(f(),U(t(ge),{key:1},{default:s(()=>[(f(),U(we(l.nextIcon)))]),_:1}))],8,Lt))}});var Dt=X(Vt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/next.vue"]]);const me=()=>lt(Te,{}),Rt=j({pageSize:{type:Number,required:!0},pageSizes:{type:Q(Array),default:()=>Ae([10,20,30,40,50,100])},popperClass:{type:String},disabled:Boolean,size:{type:String,values:fe}}),qt=T({name:"ElPaginationSizes"}),jt=T({...qt,props:Rt,emits:["page-size-change"],setup(e,{emit:c}){const o=e,{t:l}=de(),g=G("pagination"),d=me(),P=I(o.pageSize);pe(()=>o.pageSizes,(_,h)=>{if(!qe(_,h)&&Array.isArray(_)){const b=_.includes(o.pageSize)?o.pageSize:o.pageSizes[0];c("page-size-change",b)}}),pe(()=>o.pageSize,_=>{P.value=_});const v=$(()=>o.pageSizes);function k(_){var h;_!==P.value&&(P.value=_,(h=d.handleSizeChange)==null||h.call(d,Number(_)))}return(_,h)=>(f(),x("span",{class:L(t(g).e("sizes"))},[a(t(ze),{"model-value":P.value,disabled:_.disabled,"popper-class":_.popperClass,size:_.size,"validate-event":!1,onChange:k},{default:s(()=>[(f(!0),x(ue,null,ce(t(v),b=>(f(),U(t(ke),{key:b,value:b,label:b+t(l)("el.pagination.pagesize")},null,8,["value","label"]))),128))]),_:1},8,["model-value","disabled","popper-class","size"])],2))}});var Ft=X(jt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/sizes.vue"]]);const Ot=j({size:{type:String,values:fe}}),Gt=["disabled"],Wt=T({name:"ElPaginationJumper"}),Yt=T({...Wt,props:Ot,setup(e){const{t:c}=de(),o=G("pagination"),{pageCount:l,disabled:g,currentPage:d,changeEvent:P}=me(),v=I(),k=$(()=>{var b;return(b=v.value)!=null?b:d?.value});function _(b){v.value=+b}function h(b){b=Math.trunc(+b),P?.(+b),v.value=void 0}return(b,S)=>(f(),x("span",{class:L(t(o).e("jump")),disabled:t(g)},[C("span",{class:L([t(o).e("goto")])},y(t(c)("el.pagination.goto")),3),a(t(xe),{size:b.size,class:L([t(o).e("editor"),t(o).is("in-pagination")]),min:1,max:t(l),disabled:t(g),"model-value":t(k),"validate-event":!1,type:"number","onUpdate:modelValue":_,onChange:h},null,8,["size","class","max","disabled","model-value"]),C("span",{class:L([t(o).e("classifier")])},y(t(c)("el.pagination.pageClassifier")),3)],10,Gt))}});var Ht=X(Yt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/jumper.vue"]]);const Jt=j({total:{type:Number,default:1e3}}),Qt=["disabled"],Xt=T({name:"ElPaginationTotal"}),Zt=T({...Xt,props:Jt,setup(e){const{t:c}=de(),o=G("pagination"),{disabled:l}=me();return(g,d)=>(f(),x("span",{class:L(t(o).e("total")),disabled:t(l)},y(t(c)("el.pagination.total",{total:g.total})),11,Qt))}});var ea=X(Zt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/total.vue"]]);const ta=j({currentPage:{type:Number,default:1},pageCount:{type:Number,required:!0},pagerCount:{type:Number,default:7},disabled:Boolean}),aa=["onKeyup"],na=["aria-current","tabindex"],sa=["tabindex"],la=["aria-current","tabindex"],oa=["tabindex"],ia=["aria-current","tabindex"],ra=T({name:"ElPaginationPager"}),ua=T({...ra,props:ta,emits:["change"],setup(e,{emit:c}){const o=e,l=G("pager"),g=G("icon"),d=I(!1),P=I(!1),v=I(!1),k=I(!1),_=I(!1),h=I(!1),b=$(()=>{const p=o.pagerCount,m=(p-1)/2,n=Number(o.currentPage),z=Number(o.pageCount);let i=!1,u=!1;z>p&&(n>p-m&&(i=!0),n<z-m&&(u=!0));const A=[];if(i&&!u){const E=z-(p-2);for(let M=E;M<z;M++)A.push(M)}else if(!i&&u)for(let E=2;E<p;E++)A.push(E);else if(i&&u){const E=Math.floor(p/2)-1;for(let M=n-E;M<=n+E;M++)A.push(M)}else for(let E=2;E<z;E++)A.push(E);return A}),S=$(()=>o.disabled?-1:0);Ee(()=>{const p=(o.pagerCount-1)/2;d.value=!1,P.value=!1,o.pageCount>o.pagerCount&&(o.currentPage>o.pagerCount-p&&(d.value=!0),o.currentPage<o.pageCount-p&&(P.value=!0))});function w(p=!1){o.disabled||(p?v.value=!0:k.value=!0)}function K(p=!1){p?_.value=!0:h.value=!0}function F(p){const m=p.target;if(m.tagName.toLowerCase()==="li"&&Array.from(m.classList).includes("number")){const n=Number(m.textContent);n!==o.currentPage&&c("change",n)}else m.tagName.toLowerCase()==="li"&&Array.from(m.classList).includes("more")&&Y(p)}function Y(p){const m=p.target;if(m.tagName.toLowerCase()==="ul"||o.disabled)return;let n=Number(m.textContent);const z=o.pageCount,i=o.currentPage,u=o.pagerCount-2;m.className.includes("more")&&(m.className.includes("quickprev")?n=i-u:m.className.includes("quicknext")&&(n=i+u)),Number.isNaN(+n)||(n<1&&(n=1),n>z&&(n=z)),n!==i&&c("change",n)}return(p,m)=>(f(),x("ul",{class:L(t(l).b()),onClick:Y,onKeyup:rt(F,["enter"])},[p.pageCount>0?(f(),x("li",{key:0,class:L([[t(l).is("active",p.currentPage===1),t(l).is("disabled",p.disabled)],"number"]),"aria-current":p.currentPage===1,tabindex:t(S)}," 1 ",10,na)):W("v-if",!0),d.value?(f(),x("li",{key:1,class:L(["more","btn-quickprev",t(g).b(),t(l).is("disabled",p.disabled)]),tabindex:t(S),onMouseenter:m[0]||(m[0]=n=>w(!0)),onMouseleave:m[1]||(m[1]=n=>v.value=!1),onFocus:m[2]||(m[2]=n=>K(!0)),onBlur:m[3]||(m[3]=n=>_.value=!1)},[(v.value||_.value)&&!p.disabled?(f(),U(t(ot),{key:0})):(f(),U(t(he),{key:1}))],42,sa)):W("v-if",!0),(f(!0),x(ue,null,ce(t(b),n=>(f(),x("li",{key:n,class:L([[t(l).is("active",p.currentPage===n),t(l).is("disabled",p.disabled)],"number"]),"aria-current":p.currentPage===n,tabindex:t(S)},y(n),11,la))),128)),P.value?(f(),x("li",{key:2,class:L(["more","btn-quicknext",t(g).b(),t(l).is("disabled",p.disabled)]),tabindex:t(S),onMouseenter:m[4]||(m[4]=n=>w()),onMouseleave:m[5]||(m[5]=n=>k.value=!1),onFocus:m[6]||(m[6]=n=>K()),onBlur:m[7]||(m[7]=n=>h.value=!1)},[(k.value||h.value)&&!p.disabled?(f(),U(t(it),{key:0})):(f(),U(t(he),{key:1}))],42,oa)):W("v-if",!0),p.pageCount>1?(f(),x("li",{key:3,class:L([[t(l).is("active",p.currentPage===p.pageCount),t(l).is("disabled",p.disabled)],"number"]),"aria-current":p.currentPage===p.pageCount,tabindex:t(S)},y(p.pageCount),11,ia)):W("v-if",!0)],42,aa))}});var ca=X(ua,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/pager.vue"]]);const B=e=>typeof e!="number",da=j({total:Number,pageSize:Number,defaultPageSize:Number,currentPage:Number,defaultCurrentPage:Number,pageCount:Number,pagerCount:{type:Number,validator:e=>typeof e=="number"&&Math.trunc(e)===e&&e>4&&e<22&&e%2===1,default:7},layout:{type:String,default:["prev","pager","next","jumper","->","total"].join(", ")},pageSizes:{type:Q(Array),default:()=>Ae([10,20,30,40,50,100])},popperClass:{type:String,default:""},prevText:{type:String,default:""},prevIcon:{type:re,default:()=>ut},nextText:{type:String,default:""},nextIcon:{type:re,default:()=>ct},small:Boolean,background:Boolean,disabled:Boolean,hideOnSinglePage:Boolean}),pa={"update:current-page":e=>typeof e=="number","update:page-size":e=>typeof e=="number","size-change":e=>typeof e=="number","current-change":e=>typeof e=="number","prev-click":e=>typeof e=="number","next-click":e=>typeof e=="number"},Ce="ElPagination";var ga=T({name:Ce,props:da,emits:pa,setup(e,{emit:c,slots:o}){const{t:l}=de(),g=G("pagination"),d=dt().vnode.props||{},P="onUpdate:currentPage"in d||"onUpdate:current-page"in d||"onCurrentChange"in d,v="onUpdate:pageSize"in d||"onUpdate:page-size"in d||"onSizeChange"in d,k=$(()=>{if(B(e.total)&&B(e.pageCount)||!B(e.currentPage)&&!P)return!1;if(e.layout.includes("sizes")){if(B(e.pageCount)){if(!B(e.total)&&!B(e.pageSize)&&!v)return!1}else if(!v)return!1}return!0}),_=I(B(e.defaultPageSize)?10:e.defaultPageSize),h=I(B(e.defaultCurrentPage)?1:e.defaultCurrentPage),b=$({get(){return B(e.pageSize)?_.value:e.pageSize},set(n){B(e.pageSize)&&(_.value=n),v&&(c("update:page-size",n),c("size-change",n))}}),S=$(()=>{let n=0;return B(e.pageCount)?B(e.total)||(n=Math.max(1,Math.ceil(e.total/b.value))):n=e.pageCount,n}),w=$({get(){return B(e.currentPage)?h.value:e.currentPage},set(n){let z=n;n<1?z=1:n>S.value&&(z=S.value),B(e.currentPage)&&(h.value=z),P&&(c("update:current-page",z),c("current-change",z))}});pe(S,n=>{w.value>n&&(w.value=n)});function K(n){w.value=n}function F(n){b.value=n;const z=S.value;w.value>z&&(w.value=z)}function Y(){e.disabled||(w.value-=1,c("prev-click",w.value))}function p(){e.disabled||(w.value+=1,c("next-click",w.value))}function m(n,z){n&&(n.props||(n.props={}),n.props.class=[n.props.class,z].join(" "))}return pt(Te,{pageCount:S,disabled:$(()=>e.disabled),currentPage:w,changeEvent:K,handleSizeChange:F}),()=>{var n,z;if(!k.value)return Qe(Ce,l("el.pagination.deprecationWarning")),null;if(!e.layout||e.hideOnSinglePage&&S.value<=1)return null;const i=[],u=[],A=q("div",{class:g.e("rightwrapper")},u),E={prev:q(Bt,{disabled:e.disabled,currentPage:w.value,prevText:e.prevText,prevIcon:e.prevIcon,onClick:Y}),jumper:q(Ht,{size:e.small?"small":"default"}),pager:q(ca,{currentPage:w.value,pageCount:S.value,pagerCount:e.pagerCount,onChange:K,disabled:e.disabled}),next:q(Dt,{disabled:e.disabled,currentPage:w.value,pageCount:S.value,nextText:e.nextText,nextIcon:e.nextIcon,onClick:p}),sizes:q(Ft,{pageSize:b.value,pageSizes:e.pageSizes,popperClass:e.popperClass,disabled:e.disabled,size:e.small?"small":"default"}),slot:(z=(n=o?.default)==null?void 0:n.call(o))!=null?z:null,total:q(ea,{total:B(e.total)?0:e.total})},M=e.layout.split(",").map(V=>V.trim());let H=!1;return M.forEach(V=>{if(V==="->"){H=!0;return}H?u.push(E[V]):i.push(E[V])}),m(i[0],g.is("first")),m(i[i.length-1],g.is("last")),H&&u.length>0&&(m(u[0],g.is("first")),m(u[u.length-1],g.is("last")),i.push(A)),q("div",{role:"pagination","aria-label":"pagination",class:[g.b(),g.is("background",e.background),{[g.m("small")]:e.small}]},i)}}});const fa=Ne(ga),ma=j({prefixCls:{type:String}}),Pe=T({name:"ElSpaceItem",props:ma,setup(e,{slots:c}){const o=G("space"),l=$(()=>`${e.prefixCls||o.b()}__item`);return()=>q("div",{class:l.value},Ie(c,"default"))}}),Se={small:8,default:12,large:16};function va(e){const c=G("space"),o=$(()=>[c.b(),c.m(e.direction),e.class]),l=I(0),g=I(0),d=$(()=>{const v=e.wrap||e.fill?{flexWrap:"wrap",marginBottom:`-${g.value}px`}:{},k={alignItems:e.alignment};return[v,k,e.style]}),P=$(()=>{const v={paddingBottom:`${g.value}px`,marginRight:`${l.value}px`},k=e.fill?{flexGrow:1,minWidth:`${e.fillRatio}%`}:{};return[v,k]});return Ee(()=>{const{size:v="small",wrap:k,direction:_,fill:h}=e;if(ae(v)){const[b=0,S=0]=v;l.value=b,g.value=S}else{let b;ie(v)?b=v:b=Se[v||"small"]||Se.small,(k||h)&&_==="horizontal"?l.value=g.value=b:_==="horizontal"?(l.value=b,g.value=0):(g.value=b,l.value=0)}}),{classes:o,containerStyle:d,itemStyle:P}}const _a=j({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},class:{type:Q([String,Object,Array]),default:""},style:{type:Q([String,Array,Object]),default:""},alignment:{type:Q(String),default:"center"},prefixCls:{type:String},spacer:{type:Q([Object,String,Number,Array]),default:null,validator:e=>$e(e)||ie(e)||gt(e)},wrap:Boolean,fill:Boolean,fillRatio:{type:Number,default:100},size:{type:[String,Array,Number],values:fe,validator:e=>ie(e)||ae(e)&&e.length===2&&e.every(ie)}}),ba=T({name:"ElSpace",props:_a,setup(e,{slots:c}){const{classes:o,containerStyle:l,itemStyle:g}=va(e);function d(P,v="",k=[]){const{prefixCls:_}=e;return P.forEach((h,b)=>{be(h)?ae(h.children)&&h.children.forEach((S,w)=>{be(S)&&ae(S.children)?d(S.children,`${v+w}-`,k):k.push(a(Pe,{style:g.value,prefixCls:_,key:`nested-${v+w}`},{default:()=>[S]},O.PROPS|O.STYLE,["style","prefixCls"]))}):je(h)&&k.push(a(Pe,{style:g.value,prefixCls:_,key:`LoopKey${v+b}`},{default:()=>[h]},O.PROPS|O.STYLE,["style","prefixCls"]))}),k}return()=>{var P;const{spacer:v,direction:k}=e,_=Ie(c,"default",{key:0},()=>[]);if(((P=_.children)!=null?P:[]).length===0)return null;if(ae(_.children)){let h=d(_.children);if(v){const b=h.length-1;h=h.reduce((S,w,K)=>{const F=[...S,w];return K!==b&&F.push(a("span",{style:[g.value,k==="vertical"?"width: 100%":null],key:K},[$e(v)?v:N(v,O.TEXT)],O.STYLE)),F},[])}return a("div",{class:o.value,style:l.value},h,O.STYLE|O.CLASS)}return _.children}}}),ha=Ne(ba);const ne=e=>(xt("data-v-28856f6e"),e=e(),wt(),e),ya={class:"api-keys-view"},Ca={class:"header-actions"},Pa={class:"filters"},Sa={class:"actions"},ka={class:"stats-cards"},za={class:"stat-card"},xa={class:"stat-value"},wa=ne(()=>C("div",{class:"stat-label"},"活跃API Keys",-1)),Aa={class:"stat-card"},Ea={class:"stat-value"},Na=ne(()=>C("div",{class:"stat-label"},"今日总消费",-1)),Ia={class:"stat-card"},$a={class:"stat-value"},Ta=ne(()=>C("div",{class:"stat-label"},"今日总请求",-1)),Ba={class:"stat-card"},Ua={class:"stat-value"},La=ne(()=>C("div",{class:"stat-label"},"平均RPM",-1)),Ma={class:"card-header"},Ka=ne(()=>C("span",null,"API Key 列表",-1)),Va={class:"el-text",type:"info",size:"small"},Da={class:"api-key-name"},Ra={class:"el-text",strong:""},qa={key:0,class:"tags"},ja={key:0,class:"el-text",size:"small",type:"info"},Fa={key:1,class:"never-used"},Oa={class:"rpm-display"},Ga={class:"rpm-text"},Wa={key:1,class:"el-text",type:"info",size:"small"},Ya={class:"pagination-wrapper"},Ha={key:0,class:"api-key-details"},Ja={key:1},Qa=T({__name:"ApiKeysView",setup(e){const c=ft(),o=mt(),l=I({groupId:"",isActive:!0,search:""}),g=I(!1),d=I(null),P=I(1),v=I(20),k=I({page:1,limit:20,total:0,totalPages:1}),_=$(()=>{let i=c.apiKeys;if(l.value.groupId&&(i=i.filter(u=>u.currentGroup?.id===l.value.groupId)),l.value.isActive!==void 0&&(i=i.filter(u=>u.isActive===l.value.isActive)),l.value.search){const u=l.value.search.toLowerCase();i=i.filter(A=>A.name.toLowerCase().includes(u)||A.description?.toLowerCase().includes(u)||A.keyId.toLowerCase().includes(u))}return i=[...i].sort((u,A)=>{if(!u.lastUsedAt&&!A.lastUsedAt)return 0;if(!u.lastUsedAt)return 1;if(!A.lastUsedAt)return-1;const E=new Date(u.lastUsedAt).getTime();return new Date(A.lastUsedAt).getTime()-E}),i}),h=async()=>{const i={groupId:l.value.groupId||void 0,isActive:l.value.isActive,search:l.value.search||void 0,page:P.value,limit:v.value},u=await c.fetchApiKeys(i);u&&u.pagination&&(k.value=u.pagination)},b=Fe(()=>{h()},500),S=async()=>{await h()},w=()=>{console.log("Export API Keys data")},K=i=>{d.value=i,g.value=!0,o.subscribeToApiKey(i.keyId)},F=i=>{console.log("Show usage chart for",i.name)},Y=i=>Math.min(i/100*100,100),p=i=>i<10?"#67c23a":i<50?"#e6a23c":"#f56c6c",m=i=>i>50?"high-cost":i>20?"medium-cost":"low-cost",n=i=>{v.value=i,P.value=1,h()},z=i=>{P.value=i,h()};return vt(async()=>{await c.fetchGroups(),await S()}),_t(()=>{c.apiKeys.forEach(i=>{o.unsubscribe("apikey",i.keyId)})}),(i,u)=>{const A=ke,E=ze,M=xe,H=ha,V=st,se=ge,Z=nt,J=at,ve=et,ee=Xe,R=We,Be=Ge,Ue=Ze,Le=Ye,Me=fa,D=He,_e=Je,Ke=Oe,Ve=Re;return f(),x("div",ya,[C("div",Ca,[C("div",Pa,[a(H,null,{default:s(()=>[a(E,{modelValue:l.value.groupId,"onUpdate:modelValue":u[0]||(u[0]=r=>l.value.groupId=r),placeholder:"选择分组",clearable:"",onChange:h},{default:s(()=>[a(A,{label:"全部分组",value:""}),(f(!0),x(ue,null,ce(t(c).groups,r=>(f(),U(A,{key:r.id,label:r.name,value:r.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),a(E,{modelValue:l.value.isActive,"onUpdate:modelValue":u[1]||(u[1]=r=>l.value.isActive=r),placeholder:"状态",onChange:h},{default:s(()=>[a(A,{label:"全部状态",value:void 0}),a(A,{label:"活跃",value:!0}),a(A,{label:"非活跃",value:!1})]),_:1},8,["modelValue"]),a(M,{modelValue:l.value.search,"onUpdate:modelValue":u[2]||(u[2]=r=>l.value.search=r),placeholder:"搜索API Key","prefix-icon":t(bt),clearable:"",onInput:t(b),style:{width:"200px"}},null,8,["modelValue","prefix-icon","onInput"])]),_:1})]),C("div",Sa,[a(V,{type:"primary",icon:t(ht),loading:t(c).loading,onClick:S},{default:s(()=>[N(" 刷新 ")]),_:1},8,["icon","loading"]),a(V,{icon:t(yt),onClick:w},{default:s(()=>[N(" 导出 ")]),_:1},8,["icon"])])]),C("div",ka,[a(ve,{gutter:16},{default:s(()=>[a(J,{span:6},{default:s(()=>[a(Z,null,{default:s(()=>[C("div",za,[C("div",xa,y(t(c).activeApiKeys.length),1),wa,a(se,{class:"stat-icon"},{default:s(()=>[a(t(Ct))]),_:1})])]),_:1})]),_:1}),a(J,{span:6},{default:s(()=>[a(Z,null,{default:s(()=>[C("div",Aa,[C("div",Ea,y(t(oe)(t(c).totalDailyCost)),1),Na,a(se,{class:"stat-icon"},{default:s(()=>[a(t(Pt))]),_:1})])]),_:1})]),_:1}),a(J,{span:6},{default:s(()=>[a(Z,null,{default:s(()=>[C("div",Ia,[C("div",$a,y(t(te)(t(c).totalTodayRequests)),1),Ta,a(se,{class:"stat-icon"},{default:s(()=>[a(t(St))]),_:1})])]),_:1})]),_:1}),a(J,{span:6},{default:s(()=>[a(Z,null,{default:s(()=>[C("div",Ba,[C("div",Ua,y(t(c).averageRPM),1),La,a(se,{class:"stat-icon"},{default:s(()=>[a(t(kt))]),_:1})])]),_:1})]),_:1})]),_:1})]),a(Z,null,{header:s(()=>[C("div",Ma,[Ka,C("span",Va," 共 "+y(t(_).length)+" 个API Key ",1)])]),default:s(()=>[zt((f(),U(Le,{data:t(_),stripe:"",style:{width:"100%"},flexible:!0,onRowClick:K},{default:s(()=>[a(R,{prop:"name",label:"API Key名称","min-width":"200"},{default:s(({row:r})=>[C("div",Da,[C("span",Ra,y(r.name),1),r.tags?.length?(f(),x("div",qa,[(f(!0),x(ue,null,ce(r.tags.slice(0,2),le=>(f(),U(ee,{key:le,size:"small",type:"info"},{default:s(()=>[N(y(le),1)]),_:2},1024))),128)),r.tags.length>2?(f(),x("span",ja," +"+y(r.tags.length-2),1)):W("",!0)])):W("",!0)])]),_:1}),a(R,{prop:"lastUsedAt",label:"最后使用时间","min-width":"150",sortable:""},{default:s(({row:r})=>[r.lastUsedAt?(f(),U(Be,{key:0,content:new Date(r.lastUsedAt).toLocaleString()},{default:s(()=>[C("span",null,y(t(tt)(r.lastUsedAt)),1)]),_:2},1032,["content"])):(f(),x("span",Fa,"从未使用"))]),_:1}),a(R,{prop:"rpm",label:"RPM",width:"100",sortable:""},{default:s(({row:r})=>[C("div",Oa,[a(Ue,{percentage:Y(r.rpm),color:p(r.rpm),"stroke-width":6,"show-text":!1},null,8,["percentage","color"]),C("span",Ga,y(r.rpm),1)])]),_:1}),a(R,{prop:"currentGroup",label:"所属分组","min-width":"120"},{default:s(({row:r})=>[r.currentGroup?(f(),U(ee,{key:0,type:"primary",size:"small"},{default:s(()=>[N(y(r.currentGroup.name),1)]),_:2},1024)):(f(),x("span",Wa,"未分组"))]),_:1}),a(R,{prop:"usage.today.cost",label:"今日消费",width:"110",sortable:""},{default:s(({row:r})=>[C("span",{class:L(m(r.usage?.today?.cost||0))},y(t(oe)(r.usage?.today?.cost||0)),3)]),_:1}),a(R,{prop:"usage.today.requests",label:"今日请求",width:"110",sortable:""},{default:s(({row:r})=>[N(y(t(te)(r.usage?.today?.requests||0)),1)]),_:1}),a(R,{prop:"usage.today.totalTokens",label:"今日Token","min-width":"130",sortable:""},{default:s(({row:r})=>[N(y(t(te)(r.usage?.today?.totalTokens||0)),1)]),_:1}),a(R,{prop:"isActive",label:"状态",width:"90",align:"center"},{default:s(({row:r})=>[a(ee,{type:r.isActive?"success":"danger",size:"small"},{default:s(()=>[N(y(r.isActive?"活跃":"非活跃"),1)]),_:2},1032,["type"])]),_:1}),a(R,{label:"操作","min-width":"140",fixed:"right"},{default:s(({row:r})=>[a(H,null,{default:s(()=>[a(V,{size:"small",onClick:ye(le=>K(r),["stop"])},{default:s(()=>[N(" 详情 ")]),_:2},1032,["onClick"]),a(V,{size:"small",onClick:ye(le=>F(r),["stop"])},{default:s(()=>[N(" 趋势 ")]),_:2},1032,["onClick"])]),_:2},1024)]),_:1})]),_:1},8,["data"])),[[Ve,t(c).loading]]),C("div",Ya,[a(Me,{"current-page":P.value,"onUpdate:current-page":u[3]||(u[3]=r=>P.value=r),"page-size":v.value,"onUpdate:page-size":u[4]||(u[4]=r=>v.value=r),"page-sizes":[10,20,50,100],small:!1,disabled:!1,background:!0,layout:"total, sizes, prev, pager, next, jumper",total:k.value.total,onSizeChange:n,onCurrentChange:z},null,8,["current-page","page-size","total"])])]),_:1}),a(Ke,{modelValue:g.value,"onUpdate:modelValue":u[5]||(u[5]=r=>g.value=r),title:`API Key: ${d.value?.name}`,width:"800px"},{default:s(()=>[d.value?(f(),x("div",Ha,[a(ve,{gutter:16},{default:s(()=>[a(J,{span:12},{default:s(()=>[a(_e,{title:"基本信息",column:1,border:""},{default:s(()=>[a(D,{label:"名称"},{default:s(()=>[N(y(d.value.name),1)]),_:1}),a(D,{label:"描述"},{default:s(()=>[N(y(d.value.description||"无"),1)]),_:1}),a(D,{label:"状态"},{default:s(()=>[a(ee,{type:d.value.isActive?"success":"danger"},{default:s(()=>[N(y(d.value.isActive?"活跃":"非活跃"),1)]),_:1},8,["type"])]),_:1}),a(D,{label:"所属分组"},{default:s(()=>[d.value.currentGroup?(f(),U(ee,{key:0,type:"primary"},{default:s(()=>[N(y(d.value.currentGroup.name),1)]),_:1})):(f(),x("span",Ja,"未分组"))]),_:1}),a(D,{label:"最后使用"},{default:s(()=>[N(y(new Date(d.value.lastUsedAt).toLocaleString()),1)]),_:1})]),_:1})]),_:1}),a(J,{span:12},{default:s(()=>[a(_e,{title:"使用统计",column:1,border:""},{default:s(()=>[a(D,{label:"RPM"},{default:s(()=>[N(y(d.value.rpm),1)]),_:1}),a(D,{label:"今日请求"},{default:s(()=>[N(y(t(te)(d.value.usage?.today?.requests||0)),1)]),_:1}),a(D,{label:"今日Token"},{default:s(()=>[N(y(t(te)(d.value.usage?.today?.totalTokens||0)),1)]),_:1}),a(D,{label:"今日费用"},{default:s(()=>[N(y(t(oe)(d.value.usage?.today?.cost||0)),1)]),_:1}),a(D,{label:"费用限制"},{default:s(()=>[N(y(d.value.limits?.dailyCostLimit?t(oe)(d.value.limits.dailyCostLimit):"无限制"),1)]),_:1})]),_:1})]),_:1})]),_:1})])):W("",!0)]),_:1},8,["modelValue","title"])])}}});const dn=De(Qa,[["__scopeId","data-v-28856f6e"]]);export{dn as default};
