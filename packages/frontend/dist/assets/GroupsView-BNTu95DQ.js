import{_ as M}from"./_plugin-vue_export-helper-BJA4NJ9J.js";/* empty css                   *//* empty css                        *//* empty css               *//* empty css                   */import{b as x,f as K}from"./format-D-4OaA4K.js";/* empty css                *//* empty css                  */import{al as P,S as U,aj as F,aJ as H,a7 as L,a8 as R,aB as $,aC as j,a1 as o,aH as q,aD as J,aA as Y,as as O,ak as Q,a5 as W}from"./element-plus-Oupk7keL.js";import{u as X}from"./index-B15g6QvD.js";import{l as Z,r as g,e as ee,m as u,q as d,H as e,B as t,t as l,D as h,G as te,Y as ae,u as p,F as n,A as se}from"./vue-vendor-W4Nd8ENd.js";import"./utils-7pt7gmow.js";const oe={class:"groups-view"},le={class:"card-header"},ne={class:"groups-grid"},re={class:"group-header"},ie={class:"group-name"},de={class:"group-stats"},pe={class:"stat"},ce={class:"stat-value"},ue={class:"stat"},_e={class:"stat-value"},me={key:0,class:"group-description"},fe={key:0,class:"empty-state"},ve={key:0,class:"group-details"},be=Z({__name:"GroupsView",setup(ye){const _=X(),f=g(!1),r=g(null),m=g(null),E=async()=>{await _.fetchGroups()},V=async v=>{r.value=v,f.value=!0;try{m.value=await _.getGroupMembers(v.id)}catch(s){console.error("Error loading group members:",s)}};return ee(()=>{E()}),(v,s)=>{var k;const G=L,b=O,B=W,A=P,T=Q,N=F,S=H,c=j,z=$,C=q,i=Y,D=J,I=U;return d(),u("div",oe,[e(A,null,{header:t(()=>[l("div",le,[s[2]||(s[2]=l("span",null,"分组管理",-1)),e(G,{type:"primary",icon:p(R),onClick:E},{default:t(()=>[...s[1]||(s[1]=[n(" 刷新 ",-1)])]),_:1},8,["icon"])])]),default:t(()=>[l("div",ne,[e(N,{gutter:16},{default:t(()=>[(d(!0),u(te,null,ae(p(_).groups,a=>(d(),se(T,{span:8,key:a.id,style:{"margin-bottom":"16px"}},{default:t(()=>[e(A,{class:"group-card",onClick:y=>V(a)},{default:t(()=>[l("div",re,[l("h3",ie,o(a.name),1),e(b,{type:"primary",size:"small"},{default:t(()=>[n(o(a.platform),1)]),_:2},1024)]),l("div",de,[l("div",pe,[s[3]||(s[3]=l("span",{class:"stat-label"},"成员数量:",-1)),l("span",ce,o(a.memberCount),1)]),l("div",ue,[s[4]||(s[4]=l("span",{class:"stat-label"},"创建时间:",-1)),l("span",_e,o(p(x)(a.createdAt)),1)])]),a.description?(d(),u("div",me,[e(B,{type:"info",size:"small"},{default:t(()=>[n(o(a.description),1)]),_:2},1024)])):h("",!0)]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1})]),p(_).groups.length===0?(d(),u("div",fe,[e(S,{description:"暂无分组数据"})])):h("",!0)]),_:1}),e(I,{modelValue:f.value,"onUpdate:modelValue":s[0]||(s[0]=a=>f.value=a),title:`分组详情: ${(k=r.value)==null?void 0:k.name}`,width:"800px"},{default:t(()=>[r.value&&m.value?(d(),u("div",ve,[e(z,{title:"分组信息",column:2,border:""},{default:t(()=>[e(c,{label:"分组名称"},{default:t(()=>[n(o(r.value.name),1)]),_:1}),e(c,{label:"平台"},{default:t(()=>[n(o(r.value.platform),1)]),_:1}),e(c,{label:"成员数量"},{default:t(()=>[n(o(r.value.memberCount),1)]),_:1}),e(c,{label:"创建时间"},{default:t(()=>[n(o(new Date(r.value.createdAt).toLocaleString()),1)]),_:1}),e(c,{label:"描述",span:2},{default:t(()=>[n(o(r.value.description||"无描述"),1)]),_:1})]),_:1}),e(C),s[5]||(s[5]=l("h4",null,"成员账户",-1)),e(D,{data:m.value.accounts,stripe:""},{default:t(()=>[e(i,{prop:"accountName",label:"账户名称"}),e(i,{prop:"platform",label:"平台"}),e(i,{prop:"isActive",label:"状态"},{default:t(({row:a})=>[e(b,{type:a.isActive?"success":"danger",size:"small"},{default:t(()=>[n(o(a.isActive?"活跃":"非活跃"),1)]),_:2},1032,["type"])]),_:1}),e(i,{prop:"lastUsedAt",label:"最后使用时间"},{default:t(({row:a})=>[n(o(p(x)(a.lastUsedAt)),1)]),_:1})]),_:1},8,["data"]),e(C),s[6]||(s[6]=l("h4",null,"关联API Keys",-1)),e(D,{data:m.value.apiKeys,stripe:""},{default:t(()=>[e(i,{prop:"name",label:"API Key名称"}),e(i,{prop:"isActive",label:"状态"},{default:t(({row:a})=>[e(b,{type:a.isActive?"success":"danger",size:"small"},{default:t(()=>[n(o(a.isActive?"活跃":"非活跃"),1)]),_:2},1032,["type"])]),_:1}),e(i,{prop:"rpm",label:"RPM"}),e(i,{prop:"usage.today.cost",label:"今日费用"},{default:t(({row:a})=>{var y,w;return[n(o(p(K)(((w=(y=a.usage)==null?void 0:y.today)==null?void 0:w.cost)||0)),1)]}),_:1})]),_:1},8,["data"])])):h("",!0)]),_:1},8,["modelValue","title"])])}}}),Te=M(be,[["__scopeId","data-v-461142e5"]]);export{Te as default};
//# sourceMappingURL=GroupsView-BNTu95DQ.js.map
