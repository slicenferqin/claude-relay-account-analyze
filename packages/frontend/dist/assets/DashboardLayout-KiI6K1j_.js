import{_ as ne}from"./_plugin-vue_export-helper-BJA4NJ9J.js";/* empty css                   *//* empty css               *//* empty css                  *//* empty css                  */import{l as le,r as x,c,ak as se,e as re,J as ue,m as A,q as g,H as e,B as t,t as a,u as s,F as d,D as de,A as V,E as T,a8 as ie,T as ce}from"./vue-vendor-C0qDyb5Q.js";import{P as _e,Q as fe,R as me,S as pe,T as ve,U as he,V as be,W as ge,X as we,Y as Ee,Z as xe,_ as Ce,$ as ke,a0 as ye,a1 as C,a2 as De,a3 as Se,a4 as Ie,p as Re,a5 as Ae,a6 as Ve,a7 as Te,a8 as Me,a9 as Be,aa as Ne,ab as Ue,ac as ze,ad as $e,ae as Fe,af as Le,ag as Pe,ah as qe}from"./element-plus-A89xnwnm.js";import{u as He,a as Je}from"./index-BnHm-nza.js";import"./utils-AU2jKXl8.js";const Ke={class:"dashboard-layout"},Oe={class:"header-left"},Qe={class:"page-title"},We={class:"header-right"},Xe={class:"connection-status"},Ye={key:0,class:"last-refresh"},Ze={class:"settings-content"},je={class:"dialog-footer"},Ge=le({__name:"DashboardLayout",setup(et){const k=se(),n=He(),_=Je(),M=r=>{const o=new Date(r),l=new Date().getTime()-o.getTime();return l<6e4?"刚刚":l<36e5?`${Math.floor(l/6e4)}分钟前`:l<864e5?`${Math.floor(l/36e5)}小时前`:o.toLocaleDateString("zh-CN")},f=x(!1),w=x(n.refreshInterval),v=x(null),B=c(()=>k.path),y=c(()=>k.meta.title||"看板"),D=c(()=>n.lastRefresh),N=c(()=>_.isConnected?"connected":"disconnected"),U=c(()=>_.isConnected?_e:fe),z=c(()=>_.isConnected?"实时连接正常":_.connectionError||"连接已断开"),S=async()=>{await n.refreshAllData()},$=r=>{r?h():m()},F=r=>{n.setRefreshInterval(r),n.isAutoRefresh&&(m(),h())},h=()=>{m(),v.value=window.setInterval(async()=>{n.loading||await S()},n.refreshInterval)},m=()=>{v.value&&(clearInterval(v.value),v.value=null)},L=r=>{switch(r){case"refresh-interval":f.value=!0;break;case"export":console.log("Export data");break;case"about":console.log("About");break}},P=()=>{n.setRefreshInterval(w.value),f.value=!1,n.isAutoRefresh&&(m(),h())};return re(()=>{_.subscribeToSystemMetrics(),n.isAutoRefresh&&h()}),ue(()=>{m()}),(r,o)=>{const i=ge,l=be,q=he,H=ve,I=Se,J=De,K=Ie,O=Ae,Q=Ve,b=Te,E=ze,W=Ue,X=Be,Y=ye,Z=ie("router-view"),j=$e,R=me,p=qe,G=Pe,ee=Le,te=Fe,oe=pe;return g(),A("div",Ke,[e(R,null,{default:t(()=>[e(H,{width:"250px",class:"sidebar"},{default:t(()=>[o[9]||(o[9]=a("div",{class:"logo"},[a("h2",null,"账号看板"),a("span",{class:"subtitle"},"Account Dashboard")],-1)),e(q,{"default-active":B.value,class:"sidebar-menu",router:"","unique-opened":""},{default:t(()=>[e(l,{index:"/dashboard/overview"},{default:t(()=>[e(i,null,{default:t(()=>[e(s(we))]),_:1}),o[4]||(o[4]=a("span",null,"总览",-1))]),_:1}),e(l,{index:"/dashboard/apikeys"},{default:t(()=>[e(i,null,{default:t(()=>[e(s(Ee))]),_:1}),o[5]||(o[5]=a("span",null,"API Key管理",-1))]),_:1}),e(l,{index:"/dashboard/accounts"},{default:t(()=>[e(i,null,{default:t(()=>[e(s(xe))]),_:1}),o[6]||(o[6]=a("span",null,"账号管理",-1))]),_:1}),e(l,{index:"/dashboard/groups"},{default:t(()=>[e(i,null,{default:t(()=>[e(s(Ce))]),_:1}),o[7]||(o[7]=a("span",null,"分组管理",-1))]),_:1}),e(l,{index:"/dashboard/analytics"},{default:t(()=>[e(i,null,{default:t(()=>[e(s(ke))]),_:1}),o[8]||(o[8]=a("span",null,"数据分析",-1))]),_:1})]),_:1},8,["default-active"])]),_:1}),e(R,null,{default:t(()=>[e(Y,{class:"header"},{default:t(()=>[a("div",Oe,[a("h3",Qe,C(y.value),1),e(J,{separator:"/"},{default:t(()=>[e(I,null,{default:t(()=>[...o[10]||(o[10]=[d("看板",-1)])]),_:1}),e(I,null,{default:t(()=>[d(C(y.value),1)]),_:1})]),_:1})]),a("div",We,[a("div",Xe,[e(K,{content:z.value,placement:"bottom"},{default:t(()=>[e(i,{class:Re(["status-icon",N.value]),size:16},{default:t(()=>[(g(),V(T(U.value)))]),_:1},8,["class"])]),_:1},8,["content"])]),D.value?(g(),A("div",Ye,[e(O,{size:"small",type:"info"},{default:t(()=>[d(" 最后刷新: "+C(M(D.value)),1)]),_:1})])):de("",!0),e(Q,{modelValue:s(n).isAutoRefresh,"onUpdate:modelValue":o[0]||(o[0]=u=>s(n).isAutoRefresh=u),"inline-prompt":"","active-text":"自动","inactive-text":"手动",onChange:$},null,8,["modelValue"]),e(b,{circle:"",icon:s(Me),loading:s(n).loading,onClick:S,title:"刷新数据"},null,8,["icon","loading"]),e(X,{onCommand:L},{dropdown:t(()=>[e(W,null,{default:t(()=>[e(E,{command:"refresh-interval"},{default:t(()=>[...o[11]||(o[11]=[d("刷新间隔",-1)])]),_:1}),e(E,{command:"export"},{default:t(()=>[...o[12]||(o[12]=[d("导出数据",-1)])]),_:1}),e(E,{command:"about"},{default:t(()=>[...o[13]||(o[13]=[d("关于",-1)])]),_:1})]),_:1})]),default:t(()=>[e(b,{circle:"",icon:s(Ne)},null,8,["icon"])]),_:1})])]),_:1}),e(j,{class:"main-content"},{default:t(()=>[e(Z,null,{default:t(({Component:u,route:ae})=>[e(ce,{name:"fade",mode:"out-in"},{default:t(()=>[(g(),V(T(u),{key:ae.path}))]),_:2},1024)]),_:1})]),_:1})]),_:1})]),_:1}),e(oe,{modelValue:f.value,"onUpdate:modelValue":o[3]||(o[3]=u=>f.value=u),title:"设置",width:"500px"},{footer:t(()=>[a("span",je,[e(b,{onClick:o[2]||(o[2]=u=>f.value=!1)},{default:t(()=>[...o[14]||(o[14]=[d("取消",-1)])]),_:1}),e(b,{type:"primary",onClick:P},{default:t(()=>[...o[15]||(o[15]=[d("确定",-1)])]),_:1})])]),default:t(()=>[a("div",Ze,[e(te,{"label-width":"120px"},{default:t(()=>[e(ee,{label:"刷新间隔"},{default:t(()=>[e(G,{modelValue:w.value,"onUpdate:modelValue":o[1]||(o[1]=u=>w.value=u),placeholder:"选择刷新间隔",onChange:F},{default:t(()=>[e(p,{label:"5秒",value:5e3}),e(p,{label:"10秒",value:1e4}),e(p,{label:"30秒",value:3e4}),e(p,{label:"1分钟",value:6e4}),e(p,{label:"5分钟",value:3e5})]),_:1},8,["modelValue"])]),_:1})]),_:1})])]),_:1},8,["modelValue"])])}}}),it=ne(Ge,[["__scopeId","data-v-6f62cc50"]]);export{it as default};
//# sourceMappingURL=DashboardLayout-KiI6K1j_.js.map
